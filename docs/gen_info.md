---
comments: true
title: "Генератор"
---

## Описание

Генератор является исполняемым файлом, который создаёт код skill'а для Маруси и код базового http-сервера.
Генератор позволяет создать:

* skill без сохранения изменений;
* skill с сохранением изменений;
* http-сервер.

Если в конфигурационном файле делаются обновления, он должен быть запущен с флагом `-u | --update`, таким образом поддерживаются пользовательские изменения в коде. 


!!! warning "Важно"
    Без флага `--update` все внесённые изменения будут **утеряны**

В файлах, где **изменения не подразумеваются**, в начале указывается строка `DO NOT EDIT`.

---------------------------------

### Использование

```(cmd)
scg ( (-o | --output=<file>) (-s | --script=<file>) | [options] | (-v | --version) | (-h | --help) )
```

- `-o --output=<file>` - путь к директории, куда надо сохранить сгенерированные файлы
- `-s --script=<file>` - путь к конфигурационному файлу
- `-v --version` - показать версию исполняемого файла
- `-u --update` - выполнить генерацию с сохранением пользовательских файлов
- `--http-server` - сгенерировать базовый http-сервер
- `-h --help` - информация о работе с генератором

Флаг `--update` сохраняет изменения пользователя. Новые строки, отличные от строк в текущих версиях сгенерированных файлов, будут оформлены как комментарии, ограниченные символами ```// >>>>>>> Generated```. Вы можете принять или сбросить эти изменения.


!!! tip "hint"
    Пример сгенерированных файлов можно найти в папке [example](https://github.com/ThCompiler/go_game_constractor/tree/main/scg/example)
    в разделе **scg**.

---------------------------------

### О сгенерированных файлах

Генератор создает хранилище строк в `Redis`, а также менеджера, подставляющего в них переданные параметры. 
Хранилище находится в папке `scg/skill_name/cmd/internal/texts/store`, а менеджер - `scg/skill_name/cmd/internal/texts/manager`.

Для инициализации хранилища и добавления в него текстов используется функция `SaveScripts` (она вызывается *автоматически* при создании http-сервера), которая находится в папке `scg/skill_name/cmd/internal/texts/store/storesaver`.
